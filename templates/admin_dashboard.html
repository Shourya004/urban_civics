{% extends "admin_base.html" %}

{% block content %}
       <!-- Admin Dashboard -->
        <div class="page active" id="admin-dashboard">
            <div class="container">
                <div class="page-header">
                    <h1>Admin Dashboard</h1>
                    <p>Welcome Admin! Manage all complaints, requirements and updates</p>
                </div>

                <!-- Admin Stats -->
                <div class="admin-stats">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“‹</div>
                        <div class="stat-content">
                            <div class="stat-label">Total Complaints</div>
                            <div class="stat-number">{{ total_complaints }}</div>
<!--                            <div class="stat-meta">â†‘ 12 this month</div>-->
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-content">
                            <div class="stat-label">Resolved</div>
                            <div class="stat-number">{{ resolved_count }}</div>
<!--                            <div class="stat-meta">75% resolution rate</div>-->
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â³</div>
                        <div class="stat-content">
                            <div class="stat-label">Pending</div>
                            <div class="stat-number">{{ pending_count }}</div>
<!--                            <div class="stat-meta">Avg 5 days wait</div>-->
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-content">
                            <div class="stat-label">Active Users</div>
                            <div class="stat-number">{{ user_count }}</div>
<!--                            <div class="stat-meta">â†‘ 45 new today</div>-->
                        </div>
                    </div>
                </div>
                                <!-- Admin Charts -->
                <div class="admin-charts">
                    <div class="chart-box">
                        <h3>Complaints by Status</h3>
                        <canvas id="statusChart"></canvas>
                    </div>
                    <div class="chart-box">
                        <h3>Monthly Trends</h3>
                        <canvas id="trendsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
<script>
    const statusData = {
        pending: {{ pending_count }},
        progress: {{ progress }},
        resolved: {{ resolved_count }}
    };

    const months = {{ months | tojson }};
    const monthlyCounts = {{ counts | tojson }};
</script>
{% endblock %}